<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uiSecretariaIngresoEvento</title>
    <!--Carga de Bootstrap’s CSS-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!--Carga de Bootstrap’s JavaScript-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <!--Carga de jQuery JavaScript-->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <!--Integración de funciones de archivo .js en HTML-->
    <script src="../controller/gestorEventosIngreso.js"></script>
</head>

<body>

    <div class="container mt-4">

        <!--Titulo principal-->
        <h1>Interfaz Personal de Secretaria</h1>
        <!--Linea divisoria-->
        <hr>
        <!--Titulo secundario-->
        <h3 class="mt-4">Ingreso de Eventos</h3>
        <!--Titulo instrucciones-->
        <h6 class="mt-3">Por favor, al completar los campos de cada uno de los eventos, presione el botón 'Agregar'. Luego de
            cargar la cantidad deseada de eventos, presione el botón 'Finalizar ingresos'</h6>
        <!--Input nombre-->
        <div class="form-field mt-4">
            <label for="nombre" class="label">Nombre</label>
            <input id="nombre" name="nombre" placeholder="Por favor ingrese nombre" type="text" class="form-control mt-1">
        </div>
        <!--Input lugar-->
        <div class="form-field mt-3">
            <label for="lugar" class="label">Lugar</label>
            <input id="lugar" name="lugar" placeholder="Por favor ingrese lugar" type="text" class="form-control mt-1">
        </div>
        <!--Input horario-->
        <div class="form-field mt-3">
            <label for="horario" class="label">Horario</label>
            <input id="horario" name="horario" placeholder="Por favor ingrese horario" type="text" class="form-control mt-1">
        </div>
        <!--Input descripcion-->
        <div class="form-field mt-3">
            <label for="descripcion" class="label">Descripción</label>
            <textarea id="descripcion" name="descripcion" placeholder="Por favor escriba una breve descripción" rows="7"
                class="form-control mt-1"></textarea>
        </div>
        <!--Colapso: botones agregar y finalizar-->
        <div id="colapso0" class="collapse show">
            <!--Boton agregar-->
            <div class="d-grid mt-3">
                <button class="btn btn-outline-dark" onclick="procesarFormularioEvento()">Agregar</button>
            </div>
            <!--Boton finalizar-->
            <br>
            <div class="d-grid mt-3">
                <button class="btn btn-outline-danger" onclick="finalizarIngresoEventosFormulario()">Finalizar ingresos</button>
            </div>
        </div>
        <!--Colapso: boton volver a página principal-->
        <div id="colapso1" class="collapse">
            <!--Boton volver a página principal-->
            <br>
            <div class="d-grid mt-3">
                <a class="btn btn-success" href="uiSecretaria.html">Volver a página principal</a>
            </div>
        </div>

    </div>

    <!--Scripts-->
    <script>
        // Se cargan eventos previamente cargados
        cargarEventos();
        
        // Se procesa el formulario de eventos
        function procesarFormularioEvento() {
            if (!validarFormularioEvento())
                return false;

            agregarEvento();

            vaciarCamposFormularioEvento();
        }

        function validarFormularioEvento() {
            var nombre = document.getElementById("nombre").value;
            var lugar = document.getElementById("lugar").value;
            var horario = document.getElementById("horario").value;
            var descripcion = document.getElementById("descripcion").value;

            // Se pide que todos los campos sean completados
            if (nombre == "" || lugar == "" || horario == "" || descripcion == "") {
                alert("Por favor, complete todos los campos.");
                return false;
            }

            return true;
        }

        function vaciarCamposFormularioEvento() {
            document.getElementById("nombre").value = "";
            document.getElementById("lugar").value = "";
            document.getElementById("horario").value = "";
            document.getElementById("descripcion").value = "";
        }

        function finalizarIngresoEventosFormulario(){
            descargarEventos();
            // Se utiliza el selector jQuery para seleccionar el elemento collapsible por su id
            $('#colapso0').collapse('hide');
            $('#colapso1').collapse('show');
        }

    </script>

</body>

</html>